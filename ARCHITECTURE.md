# ğŸ—ï¸ JARVIS Architecture Diagram

## System Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         Browser (Client Side)                          â”‚
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                    React App (Port 3000)                         â”‚  â”‚
â”‚  â”‚                                                                  â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚
â”‚  â”‚  â”‚                   App.jsx Component                     â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  State Management:                              â”‚   â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  - conversationHistory (local)                  â”‚   â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  - userInput                                    â”‚   â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  - currentLanguage                              â”‚   â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  - isLoading                                    â”‚   â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  - isRecording                                  â”‚   â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚    â”‚  â”‚
â”‚  â”‚  â”‚                                                         â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  Services Layer:                                â”‚   â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  â”œâ”€ apiService.js                              â”‚   â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  â”‚   â””â”€ POST /api/respond                       â”‚   â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  â”‚   â””â”€ POST /api/language-detect              â”‚   â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  â”‚   â””â”€ POST /api/check-task                   â”‚   â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  â”œâ”€ voiceInputService.js                       â”‚   â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  â”‚   â””â”€ Web Audio API (Microphone)             â”‚   â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  â””â”€ voiceOutputService.js                      â”‚   â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”‚      â””â”€ Web Speech API (TTS)                   â”‚   â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚    â”‚  â”‚
â”‚  â”‚  â”‚                                                         â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  UI Components:                                 â”‚   â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  â”œâ”€ Header (Language badge, Voice toggle)       â”‚   â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  â”œâ”€ Message List (Conversation history)         â”‚   â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  â”œâ”€ Memory Panel (Last 6 exchanges)             â”‚   â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  â”œâ”€ Input Form (Text + Buttons)                 â”‚   â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  â””â”€ Error Banner                                â”‚   â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚    â”‚  â”‚
â”‚  â”‚  â”‚                                                         â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  Styling:                                       â”‚   â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  â””â”€ index.css (Glassmorphism design)            â”‚   â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”‚     â””â”€ Gradients, animations, responsive        â”‚   â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚    â”‚  â”‚
â”‚  â”‚  â”‚                                                         â”‚    â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                    â†•                                    â”‚
â”‚                        HTTP API Communication                           â”‚
â”‚                            (JSON Payloads)                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       Server (Backend - Port 5000)                      â”‚
â”‚                    Node.js + Express (Backend API)                      â”‚
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                      Express Server                              â”‚  â”‚
â”‚  â”‚                        (server.js)                               â”‚  â”‚
â”‚  â”‚                                                                  â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚
â”‚  â”‚  â”‚  Routes & Endpoints:                                   â”‚    â”‚  â”‚
â”‚  â”‚  â”‚                                                         â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  GET /health                                           â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â””â”€ Server health check                                â”‚    â”‚  â”‚
â”‚  â”‚  â”‚                                                         â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  POST /api/respond                                     â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”œâ”€ Input: userMessage, conversationMemory            â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”œâ”€ Calls: languageService â†’ llmService               â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â””â”€ Output: response, language, voiceProfile          â”‚    â”‚  â”‚
â”‚  â”‚  â”‚                                                         â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  POST /api/language-detect                            â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”œâ”€ Input: text                                        â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â””â”€ Output: language, voiceProfile                    â”‚    â”‚  â”‚
â”‚  â”‚  â”‚                                                         â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  POST /api/check-task                                 â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”œâ”€ Input: text                                        â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â””â”€ Output: isTask boolean                            â”‚    â”‚  â”‚
â”‚  â”‚  â”‚                                                         â”‚    â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚
â”‚  â”‚                                                                  â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚
â”‚  â”‚  â”‚  Services Layer:                                       â”‚    â”‚  â”‚
â”‚  â”‚  â”‚                                                         â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  languageService.js                              â”‚  â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  â”œâ”€ detectLanguage(text)                         â”‚  â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  â”‚  â””â”€ Devanagari script detection              â”‚  â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  â”‚  â””â”€ Hinglish word matching                   â”‚  â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  â”œâ”€ isTask(text)                                â”‚  â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  â”‚  â””â”€ Task keyword detection                   â”‚  â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  â””â”€ getVoiceProfile(language)                   â”‚  â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”‚     â””â”€ Map language to voice                    â”‚  â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚    â”‚  â”‚
â”‚  â”‚  â”‚                                                         â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  memoryService.js                               â”‚  â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  (ConversationMemory Class)                      â”‚  â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  â”œâ”€ addExchange(userMsg, assistantResp)         â”‚  â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  â”‚  â””â”€ Store exchange + auto-prune (max 6)      â”‚  â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  â”œâ”€ getContextString()                          â”‚  â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  â”‚  â””â”€ Format history for LLM prompt            â”‚  â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  â”œâ”€ getHistory()                                â”‚  â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  â”‚  â””â”€ Return full history array                â”‚  â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  â””â”€ clear()                                     â”‚  â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”‚     â””â”€ Reset memory                             â”‚  â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚    â”‚  â”‚
â”‚  â”‚  â”‚                                                         â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  llmService.js                                   â”‚  â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  (Groq Integration)                              â”‚  â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  â”œâ”€ getChatResponse(topic, lang, memory)         â”‚  â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  â”‚  â”œâ”€ Build context from memory                 â”‚  â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  â”‚  â”œâ”€ Select system prompt (EN/HI)             â”‚  â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  â”‚  â”œâ”€ Inject context into prompt               â”‚  â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  â”‚  â”œâ”€ Call Groq LLM API                        â”‚  â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  â”‚  â””â”€ Return response                          â”‚  â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”‚  â””â”€ getTaskCode(topic)                          â”‚  â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”‚     â””â”€ Generate automation code                 â”‚  â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚    â”‚  â”‚
â”‚  â”‚  â”‚                                                         â”‚    â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚
â”‚  â”‚                                                                  â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚
â”‚  â”‚  â”‚  External Services:                                    â”‚    â”‚  â”‚
â”‚  â”‚  â”‚                                                         â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  Groq LLM API                                          â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”œâ”€ Model: llama-3.3-70b-versatile                    â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â”œâ”€ API Key: (in .env)                                â”‚    â”‚  â”‚
â”‚  â”‚  â”‚  â””â”€ Purpose: Generate contextual responses            â”‚    â”‚  â”‚
â”‚  â”‚  â”‚                                                         â”‚    â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚
â”‚  â”‚                                                                  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Data Flow Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  User Input  â”‚
â”‚(Voice/Text)  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Frontend Service   â”‚
â”‚ voiceInputService   â”‚
â”‚ (Web Audio API)     â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Frontend State      â”‚
â”‚ - userInput          â”‚
â”‚ - isRecording        â”‚
â”‚ - recognizedText     â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  API Call                       â”‚
â”‚  POST /api/respond              â”‚
â”‚  {userMessage, memory}          â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”˜
       â”‚                        â”‚
    HTTP                    HTTP Response
       â”‚                        â”‚
       â–¼                        â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Backend: languageService        â”‚
â”‚  detectLanguage(text)            â”‚
â”‚  â†’ language: "en" | "hi"         â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Backend: llmService             â”‚
â”‚  getChatResponse(                â”‚
â”‚    topic, language, memory       â”‚
â”‚  )                               â”‚
â”‚  - Get context from memory       â”‚
â”‚  - Select prompt (EN/HI)         â”‚
â”‚  - Inject context + topic        â”‚
â”‚  - Call Groq API                 â”‚
â”‚  â†’ response                      â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  JSON Response                   â”‚
â”‚  {                               â”‚
â”‚    response: "...",              â”‚
â”‚    language: "en",               â”‚
â”‚    voiceProfile: "...",          â”‚
â”‚    isTask: false                 â”‚
â”‚  }                               â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
    HTTP
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Frontend: Update State          â”‚
â”‚ - conversationHistory.push()     â”‚
â”‚ - currentLanguage = response.langâ”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Frontend: Display               â”‚
â”‚ - Render messages                â”‚
â”‚ - Update memory panel            â”‚
â”‚ - Show conversation history      â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Frontend: Voice Output          â”‚
â”‚  voiceOutputService.speak(       â”‚
â”‚    response, language            â”‚
â”‚  )                               â”‚
â”‚  (Web Speech API)                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Memory Management Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Conversation History Lifecycle     â”‚
â”‚                                     â”‚
â”‚  Frontend State:                    â”‚
â”‚  conversationHistory = []           â”‚
â”‚                                     â”‚
â”‚  Initial: []                        â”‚
â”‚     â†“                               â”‚
â”‚  User: "Hello"                      â”‚
â”‚  API Call â–¶â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚            â”‚                    â”‚   â”‚
â”‚            â–¼                    â–¼   â”‚
â”‚  Backend generates response   â”‚   â”‚
â”‚  Response: "Hi there!"       â”‚   â”‚
â”‚     â†‘                        â”‚   â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                   â”‚
â”‚  Frontend State Update:           â”‚
â”‚  [{                               â”‚
â”‚    user: "Hello",                 â”‚
â”‚    assistant: "Hi there!"         â”‚
â”‚  }]                               â”‚
â”‚                                   â”‚
â”‚  Exchange 2:                      â”‚
â”‚  conversationHistory.length = 1   â”‚
â”‚     â†“                             â”‚
â”‚  User: "Who are you?"             â”‚
â”‚  API sends full history â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚                               â”‚   â”‚
â”‚  Backend receives:            â”‚   â”‚
â”‚  {                            â”‚   â”‚
â”‚    userMessage: "Who are...", â”‚   â”‚
â”‚    conversationMemory: [{     â”‚   â”‚
â”‚      user: "Hello",           â”‚   â”‚
â”‚      assistant: "Hi there!"   â”‚   â”‚
â”‚    }]                         â”‚   â”‚
â”‚  }                            â”‚   â”‚
â”‚     â–¼                         â”‚   â”‚
â”‚  LLM receives context:       â”‚   â”‚
â”‚  PREVIOUS CONTEXT:           â”‚   â”‚
â”‚  User: Hello                 â”‚   â”‚
â”‚  Assistant: Hi there!        â”‚   â”‚
â”‚  CURRENT: Who are you?       â”‚   â”‚
â”‚     â–¼                         â”‚   â”‚
â”‚  Context-aware response      â”‚   â”‚
â”‚     â†‘                         â”‚   â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                   â”‚
â”‚  Frontend State After:            â”‚
â”‚  [{                               â”‚
â”‚    user: "Hello",                 â”‚
â”‚    assistant: "Hi there!"         â”‚
â”‚  },                               â”‚
â”‚  {                                â”‚
â”‚    user: "Who are you?",          â”‚
â”‚    assistant: "I'm JARVIS..."     â”‚
â”‚  }]                               â”‚
â”‚  â†’ Memory.length = 2              â”‚
â”‚                                   â”‚
â”‚  ... (continues up to 6)          â”‚
â”‚                                   â”‚
â”‚  At Exchange 7:                   â”‚
â”‚  â†’ Oldest exchange auto-prunes    â”‚
â”‚  â†’ Always keeps last 6 exchanges  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Component Interaction

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           React App (App.jsx)                  â”‚
â”‚                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  State:                                  â”‚  â”‚
â”‚  â”‚  â€¢ conversationHistory                   â”‚  â”‚
â”‚  â”‚  â€¢ userInput                             â”‚  â”‚
â”‚  â”‚  â€¢ currentLanguage                       â”‚  â”‚
â”‚  â”‚  â€¢ isLoading, isRecording, error        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  useRef:                                 â”‚  â”‚
â”‚  â”‚  â€¢ voiceInputRef                         â”‚  â”‚
â”‚  â”‚  â€¢ voiceOutputRef                        â”‚  â”‚
â”‚  â”‚  â€¢ historyEndRef                         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Event Handlers:                         â”‚  â”‚
â”‚  â”‚  â€¢ handleStartListening()                â”‚  â”‚
â”‚  â”‚  â€¢ handleStopListening()                 â”‚  â”‚
â”‚  â”‚  â€¢ handleSendMessage()                   â”‚  â”‚
â”‚  â”‚  â€¢ handleSubmit()                        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Hooks:                                  â”‚  â”‚
â”‚  â”‚  â€¢ useEffect (initialize voice services) â”‚  â”‚
â”‚  â”‚  â€¢ useEffect (auto-scroll)               â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Services Called:                        â”‚  â”‚
â”‚  â”‚  â€¢ apiService.getResponse()              â”‚  â”‚
â”‚  â”‚  â€¢ voiceInputService (ğŸ¤)                â”‚  â”‚
â”‚  â”‚  â€¢ voiceOutputService (ğŸ”Š)               â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Renders:                                â”‚  â”‚
â”‚  â”‚  â€¢ Header (title, toggles, badge)        â”‚  â”‚
â”‚  â”‚  â€¢ Message List (conversations)          â”‚  â”‚
â”‚  â”‚  â€¢ Memory Panel (last 6 exchanges)       â”‚  â”‚
â”‚  â”‚  â€¢ Input Form (text + buttons)           â”‚  â”‚
â”‚  â”‚  â€¢ Error Banner (if errors)              â”‚  â”‚
â”‚  â”‚  â€¢ Loading Indicator (if loading)        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**Complete visual architecture of JARVIS React + Node.js migration!**
